<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Animated Task Manager (To-Do List Pro)</title>
  <!-- 
    Animated Task Manager (To-Do List Pro)
    Author: Generated by ChatGPT
    Features: Add/Edit/Delete tasks, Dark/Light theme, progress bar, animations, LocalStorage
    Keyboard Shortcuts: Enter â†’ Add task, Tab â†’ Navigate, Double-click task â†’ Edit
  -->
  <style>
    :root {
      --bg: #f7f8fc;
      --text: #1e1e2f;
      --muted: #888888;
      --accent: #5b6bf7;
      --header-bg: #ffffff;
      --card-bg: #ffffff;
    }
    [data-theme="dark"] {
      --bg: #1e1e2f;
      --text: #ffffff;
      --muted: #bbbbcc;
      --header-bg: #2a2a3f;
      --card-bg: #2a2a3f;
    }
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    body {
      font-family: Inter, system-ui, -apple-system, Roboto, "Segoe UI", Arial, sans-serif;
      background-color: var(--bg);
      color: var(--text);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    header {
      position: sticky;
      top: 0;
      background-color: var(--header-bg);
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 24px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      z-index: 10;
    }
    header h1 {
      font-size: 1.5rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    nav ul {
      list-style: none;
      display: flex;
      gap: 16px;
    }
    nav ul li a {
      text-decoration: none;
      color: var(--text);
      font-weight: 500;
      transition: border-bottom 0.2s;
    }
    nav ul li a:hover {
      border-bottom: 2px solid var(--accent);
    }
    .theme-toggle {
      cursor: pointer;
      font-size: 1.2rem;
      background: none;
      border: none;
      color: var(--text);
      transition: transform 0.2s;
    }
    .theme-toggle:hover {
      transform: scale(1.2);
    }
    main {
      flex: 1;
      max-width: 800px;
      width: 90%;
      margin: 24px auto;
      display: flex;
      flex-direction: column;
      gap: 24px;
    }
    /* Task Input */
    .task-input-container {
      background-color: var(--card-bg);
      padding: 16px;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
      display: flex;
      gap: 8px;
    }
    .task-input-container input {
      flex: 1;
      padding: 10px 12px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 1rem;
      outline: none;
    }
    .task-input-container button {
      background-color: var(--accent);
      color: #fff;
      border: none;
      padding: 10px 16px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 500;
      transition: transform 0.2s, background-color 0.2s;
    }
    .task-input-container button:hover {
      transform: translateY(-2px);
      background-color: #4a55d6;
    }
    .error {
      color: #e74c3c;
      font-size: 0.875rem;
      margin-top: 4px;
    }
    /* Task List */
    .task-list {
      list-style: none;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    .task-item {
      background-color: var(--card-bg);
      padding: 12px 16px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      box-shadow: 0 1px 6px rgba(0,0,0,0.05);
      opacity: 0;
      transform: translateX(-20px);
      animation: slideIn 0.3s forwards;
    }
    @keyframes slideIn {
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }
    .task-text {
      flex: 1;
      margin-left: 12px;
      word-break: break-word;
    }
    .task-text.completed {
      text-decoration: line-through;
      opacity: 0.6;
    }
    .task-actions button {
      background: none;
      border: none;
      margin-left: 8px;
      cursor: pointer;
      font-size: 1rem;
      color: var(--muted);
      transition: color 0.2s, transform 0.2s;
    }
    .task-actions button:hover {
      color: var(--accent);
      transform: scale(1.2);
    }
    /* Progress Bar */
    .progress-container {
      background-color: var(--card-bg);
      padding: 16px;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }
    .progress-bar-bg {
      background-color: #e0e0e0;
      height: 16px;
      border-radius: 8px;
      overflow: hidden;
      margin-bottom: 8px;
    }
    .progress-bar-fill {
      background-color: var(--accent);
      height: 100%;
      width: 0%;
      transition: width 0.4s ease;
    }
    .progress-text {
      font-size: 0.9rem;
      color: var(--muted);
      text-align: right;
    }
    /* Footer */
    footer {
      text-align: center;
      padding: 16px;
      font-size: 0.875rem;
      color: var(--muted);
    }
    /* Responsive */
    @media (max-width: 600px) {
      nav ul {
        display: none;
      }
    }
  </style>
</head>
<body>
  <!-- Header / Navbar -->
  <header>
    <h1>âœ… To-Do List Pro</h1>
    <nav>
      <ul>
        <li><a href="#tasks">Tasks</a></li>
        <li><a href="#progress">Progress</a></li>
        <li><a href="#help">Help</a></li>
      </ul>
    </nav>
    <button class="theme-toggle" aria-label="Toggle Dark/Light Theme">ðŸŒ™</button>
  </header>

  <main>
    <!-- Task Input -->
    <section id="tasks">
      <div class="task-input-container">
        <input type="text" id="taskInput" placeholder="Enter your task..." />
        <button id="addTaskBtn">Add</button>
      </div>
      <div class="error" id="errorMsg"></div>
      <ul class="task-list" id="taskList"></ul>
    </section>

    <!-- Progress Bar -->
    <section id="progress" class="progress-container">
      <div class="progress-bar-bg">
        <div class="progress-bar-fill" id="progressFill"></div>
      </div>
      <div class="progress-text" id="progressText">0 of 0 tasks completed</div>
    </section>

    <!-- Help / Usage -->
    <section id="help">
      <h2>Usage & Shortcuts</h2>
      <ul>
        <li>Enter â†’ Add task</li>
        <li>Double-click task â†’ Edit</li>
        <li>Click checkbox â†’ Complete task</li>
        <li>Click trash â†’ Delete task</li>
        <li>Theme toggle â†’ Switch Dark/Light mode</li>
      </ul>
    </section>
  </main>

  <footer>
    Animated Task Manager &copy; 2025 â€” Generated by ChatGPT
  </footer>

  <script>
    // Initialize state
    const taskInput = document.getElementById('taskInput');
    const addTaskBtn = document.getElementById('addTaskBtn');
    const taskList = document.getElementById('taskList');
    const progressFill = document.getElementById('progressFill');
    const progressText = document.getElementById('progressText');
    const errorMsg = document.getElementById('errorMsg');
    const themeToggle = document.querySelector('.theme-toggle');

    let tasks = JSON.parse(localStorage.getItem('todo.tasks')) || [
      { id: 1, text: 'Sample Task 1', completed: false },
      { id: 2, text: 'Sample Task 2', completed: true },
      { id: 3, text: 'Sample Task 3', completed: false },
    ];

    // Load theme
    document.documentElement.setAttribute('data-theme', localStorage.getItem('todo.theme') || 'light');

    function saveState() {
      localStorage.setItem('todo.tasks', JSON.stringify(tasks));
      localStorage.setItem('todo.theme', document.documentElement.getAttribute('data-theme'));
    }

    function renderTasks() {
      taskList.innerHTML = '';
      tasks.forEach(task => {
        const li = document.createElement('li');
        li.className = 'task-item';
        li.dataset.id = task.id;

        const checkbox = document.createElement('input');
        checkbox.type = 'checkbox';
        checkbox.checked = task.completed;
        checkbox.addEventListener('change', () => toggleTaskComplete(task.id));

        const span = document.createElement('span');
        span.className = 'task-text' + (task.completed ? ' completed' : '');
        span.textContent = task.text;
        span.addEventListener('dblclick', () => editTask(task.id, span));

        const actions = document.createElement('div');
        actions.className = 'task-actions';
        const editBtn = document.createElement('button');
        editBtn.innerHTML = 'âœï¸';
        editBtn.addEventListener('click', () => editTask(task.id, span));
        const delBtn = document.createElement('button');
        delBtn.innerHTML = 'ðŸ—‘ï¸';
        delBtn.addEventListener('click', () => deleteTask(task.id, li));

        actions.appendChild(editBtn);
        actions.appendChild(delBtn);

        li.appendChild(checkbox);
        li.appendChild(span);
        li.appendChild(actions);

        taskList.appendChild(li);
      });
      updateProgressBar();
    }

    function addTask() {
      const text = taskInput.value.trim();
      if (!text) {
        errorMsg.textContent = 'Task cannot be empty.';
        return;
      }
      errorMsg.textContent = '';
      const newTask = { id: Date.now(), text, completed: false };
      tasks.push(newTask);
      saveState();
      renderTasks();
      taskInput.value = '';
      taskInput.focus();
    }

    function editTask(id, span) {
      const task = tasks.find(t => t.id === id);
      const input = document.createElement('input');
      input.type = 'text';
      input.value = task.text;
      input.style.flex = '1';
      span.replaceWith(input);
      input.focus();

      const saveEdit = () => {
        const val = input.value.trim();
        if (val) {
          task.text = val;
          saveState();
          renderTasks();
        } else {
          alert('Task cannot be empty.');
          input.focus();
        }
      };
      input.addEventListener('blur', saveEdit);
      input.addEventListener('keydown', e => {
        if (e.key === 'Enter') saveEdit();
      });
    }

    function deleteTask(id, li) {
      li.style.opacity = '0';
      li.style.transform = 'translateX(20px)';
      setTimeout(() => {
        tasks = tasks.filter(t => t.id !== id);
        saveState();
        renderTasks();
      }, 300);
    }

    function toggleTaskComplete(id) {
      const task = tasks.find(t => t.id === id);
      task.completed = !task.completed;
      saveState();
      renderTasks();
    }

    function updateProgressBar() {
      const total = tasks.length;
      const completed = tasks.filter(t => t.completed).length;
      const percent = total ? Math.round((completed / total) * 100) : 0;
      progressFill.style.width = percent + '%';
      progressText.textContent = `${completed} of ${total} tasks completed`;
    }

    addTaskBtn.addEventListener('click', addTask);
    taskInput.addEventListener('keydown', e => { if (e.key === 'Enter') addTask(); });

    themeToggle.addEventListener('click', () => {
      const current = document.documentElement.getAttribute('data-theme');
      const next = current === 'light' ? 'dark' : 'light';
      document.documentElement.setAttribute('data-theme', next);
      saveState();
    });

    renderTasks();
  </script>
</body>
</html>
